<!DOCTYPE html>
<html lang="en">

<head>
    <meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
    <meta property="og:title" content="MsQuic Performance Dashboard" />
    <meta property="og:description" content="The latest MsQuic performance data" />
    <meta name="description" content="The latest MsQuic performance data" />
    <meta name="keywords" content=", github, microsoft, quic, performance" />
    <link rel="icon" href="./assets/favicon.png">
    <title>
        MsQuic Performance Dashboard
    </title>
    <script src="https://cdn.jsdelivr.net/npm/chart.js@2.9.3/dist/Chart.min.js"></script>
    <script
        src="https://cdn.jsdelivr.net/npm/chartjs-adapter-date-fns@1.0.0/dist/chartjs-adapter-date-fns.bundle.min.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/hammerjs@2.0.8"></script>
    <script src="https://cdn.jsdelivr.net/npm/chartjs-plugin-zoom@0.7.7"></script>
    <script src="data.js"></script>
    <script src="dataTemplate.js"></script>
    <style>
        h1 {
            font-size: 26pt;
            font-family: "Helvetica Neue", Helvetica, Arial, sans-serif;
        }

        h2 {
            font-size: 20pt;
            font-family: "Helvetica Neue", Helvetica, Arial, sans-serif;
        }

        h3 {
            font-size: 14pt;
            font-family: "Helvetica Neue", Helvetica, Arial, sans-serif;
        }

        p {
            font-size: 12pt;
            font-family: "Helvetica Neue", Helvetica, Arial, sans-serif;
            width: 70%;
        }
    </style>
</head>

<body>
    <h1>MsQuic Performance Dashboard</h1>
    <p>
        This page shows performance-related data for MsQuic and is automatically
        generated by our <a href="https://dev.azure.com/ms/msquic/_build?definitionId=347&_a=summary">CI pipeline</a>.
    </p>
    <input type="radio" id="rawpdt" name="pointDisplayType" value="raw">
    <label for="rawpdt">Raw Points</label>
    <input type="radio" id="avgpdt" name="pointDisplayType" value="avg" checked="true">
    <label for="avgpdt">Average Line</label>
    <input type="radio" id="bothpdt" name="pointDisplayType" value="both">
    <label for="bothpdt">Both</label>
    <br><br>
    <input type="checkbox" id="kernel" checked="true">
    <label for="kernel">Windows Kernel</label><br>
    <input type="checkbox" id="winschannel" checked="true">
    <label for="usersch">Windows User - Schannel</label><br>
    <input type="checkbox" id="winopenssl" checked="true">
    <label for="userosl">Windows User - OpenSSL</label><br>
    <h2>CPU Limited Tests</h2>
    <p>
        Data is shown for several different build configurations and
        scenarios. Scenarios are described
        <a href="https://github.com/nibanks/quic-perf/blob/master/draft-banks-quic-performance.md">here</a>.
        Each dataset comes from a particular OS/platform (Windows Kernel, Windows User, Linux User) and
        TLS library (Schannel, OpenSSL). The tests are run on two physical
        machines connected by a 50Gbps switch (with 40Gbps NICs), so the tests
        are assumed to be limited by the CPU rather than a network bottleneck.
    </p>
    <h3>Single Connection Throughput</h3>
    <p>
        This test consists of transferring data over a single QUIC connection with a
        single stream in one direction as fast as possible. The metric is the
        average throughput over the lifetime of the connection.
    </p>
    <div style="width: 70%; padding: 20px">
        <canvas id="canvasThroughput" class="chartjs-render-monitor"></canvas>
    </div>
    <h3>Requests per Second</h3>
    <p>
        This test creates many parallel connections and sends requests (and waits
        for the responses) as fast as possible. The test measures the average number
        of responses received per second over the test run.
    </p>
    <div style="width: 70%; padding: 20px">
        <canvas id="canvasRPS" class="chartjs-render-monitor"></canvas>
    </div>
    <h3>Handshakes per Second</h3>
    <p>
        This test consists creating new connections (handshakes) as fast as
        possible. The test measures the average handshake completion
        rate over the test run.
    </p>
    <div style="width: 70%; padding: 20px">
        <canvas id="canvasHPS" class="chartjs-render-monitor"></canvas>
    </div>
    <script>

    </script>
</body>

</html>
